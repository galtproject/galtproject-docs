# Sprint 1

## Web3 Application (21 час)

### Действия
 - **Сделано:** Отображение на карте
   - При наведении курсором отображать координату в формате Геохеш и GPS, широта, долгота, 45 мин
 - **Сделано:** Ввод данных по заявке 
   - Ввод текстовых данных по заявке, 15 мин
   - Указание контура в текстовых полях, сделано
     - Возможность вместо геохешей указывать координаты в формате Google Maps, 60 мин
   - Демонстрация апроксимированных геохешей по контурам, сделано
   - Отправка транзакции на создание заявки, сделано
   - Отправка нескольких транзакций на добавление геохешей группами, 240 мин
     - Формировать список последовательно с соседями и сторонами смежных с соседними (список порядка добавления в упаковку)
   - Отправка транзакции на изменение статуса заявки на `Готов к проверке`, 15 мин
 - **Сделано:** Мои заявки
   - Отображение всех поданных заявок пользователям, 30 мин
   - Возможность фильтрации по статусам, 30 мин
   - При выборе заявки - отображение упаковки указанной в заявке на карте., 30 мин
   - По каждой заявке кнопка `Добавить геохеш` для заявок со статусом `Новая` при нажатии появляется поле для ввода геохеша или нескольких геохешей с кнопкой `Добавить`
     - Автоматическое определение соседа со стороной смежной с соседом для добавления в упаковку, 60 мин
     - Подсвечивание на карте добавляемых геохешей, 30 мин
     - **Изменение: Некорректно указанные геохеши перечисляются в тексте об ошибке:** Подсвечивание некорректно указанных геохешей, 60 мин
   - По каждой заявке кнопка `Разобрать упаковку` нажатие которой вызывает создание серии транзакций по удалению геохешей из упаковки пока счетчик геохешей упаковки не станет равен нулю, 120 мин 
   - По каждой заявке кнопка `Проверить геохеши упаковки` Есть ли геохеши, которые входят в контур но не вошли в упаковку. 120 мин
     - Показывать предупреждение пользователю с кнопкой Добавить недостающие геохеши, которая генерирует одну или несколько транзакций на добавление геохешей группами
 - Мои участки
   - **Сделано:** Отображает список всех участков (геохешей и упаковок) с отображением на карте, должно подствечиваться при выборе., 30 мин
   - **Сделано:** Для каждой упаковки отображать кнопку Разобрать упаковку при нажатии создается серия транзакций по полному разбору упаковки., 30 мин
   - **Сделано:** Для каждой упаковки отображать кнопку Добавить геохеши, при нажатии на кнопку реализуется тот же самый функционал что и при добавлении геохешей в упаковку в заявку, за исключением того что владельцем должен быть пользователь., 30 мин
   -  **Изменение: собрать геохеш вынесено в отдельный экран** Для каждого геохеша отображается кнопка `Разобрать` и кнопка `Собрать`, 30 мин
   - **Сделано:** Отдельная кнопка `Создать упаковку`
     - Автоматическая фильтрация при нажатии Создать упаковку на показ только геохешей, 15 мин
     - **Изменение: геохеши выбираются контуром** Возможность выбора геохешей чекбоксами и подсвечивание выбранных на карте, 15 мин
     - **Изменение: геохеши выбираются контуром** После выбора каждого геохеша проверять и предупреждать пользователя в случае невозможности обьединения в упаковку, 15 мин
     - Кнопка Подтвердить создание упаковки, которая создает серию транзакций по добавлению геохешей в упаковку, 15 мин
   - **Сделано:** Кнопка `Отправить токен участка` под каждым участком. При нажатии указывается адрес и кнопка `Отправить`, 15 мин
 - Заявки на рассмотрение
   - **Сделано:** Отображать список всех заявок со всеми полями, со статусом `Готово к рассмотрению`, если код страны в заявке равен коду страны Валидатора.
   - **Сделано:** Отображать кнопку `Получить заявку` для заявок со статусом `Готово к рассмотрению`, 15 мин
   - **Сделано:** Отображать кнопку только у валидаторов, 15 мин
   - **Сделано:** Отображать список всех заявок со всеми полями, со статусом `На рассмотрении`, если назначенный валидатор = текущему адресу, 45 мин
   - **Сделано:** Для каждой заявки со статусом `На рассмотрении` отображать кнопку `Проверить`. При нажатии кнопки `Проверить` отображаются поля, что пользователь указывал в заявке., 15 мин
   - **Сделано:** Кнопка `Проверить данные` и `Утвердить заявку`, которая показывается после успешной проверки данных., 30 мин
   - **Сделано:** Кнопка `Отклонить заявку`, 15 мин
   - **Сделано:** Кнопка `Вернуть заявку`, 15 мин
   - **Сделано:** Кнопка `Разобрать заявку` для заявок со статусом `Отклонена`, 15 мин
   - **Сделано:** Кнопка `Получить награду`, 45 мин
     - Отображается для валидаторов для заявок со статусом `Утверждена` и заявок со статусом `Отклонена` если в упаковке в указанной заявке нет геохешей.
     - Отображается для Owner контракта GaltSpace если стоит флаг выплачено вознаграждение валидатору.
     

## GaltToken
 - Все готово

## SpaceToken (8 часов 20 минут) (!)

### Методы
  - Разработка метода [encode](../ru/contracts/SpaceToken.md#encode), нужно разработать
    - из 5-бит пакетов нереализовано 
      - написать unit test, 15 минут
    - из 8-бит пакетов вообще нереализовано, 120 мин
  - Разработка метода [decode](../ru/contracts/SpaceToken.md#decode), нужно разработать
    - из 5-бит пакетов нереализовано
      - написать unit test, 15 минут
    - из 8-бит пакетов вообще нереализовано, 120 мин
  - Разработка метода mint (выпуск токена), готово на 90%
    - Нужно опеределить права (роли) на вызов метода mint, 15 мин]
    - Написать код на проверку прав метода mint, 60 мин, реализовано (!)
  - Перенести метод mintPack в контракт SplitMerge, Выпилить в будущем
  - Перенести метод swapToPack в контракт SplitMerge, Выпилить в будущем
    - Убрать импорт контракта SplitMerge
  - Входят в стандарт и должны быть включены методы из контрактов:
    - ERC721Token, реализовано
    - Ownable, реализовано
    - Initializable, реализовано
  - generatePackTokenId
    - Написать Unit test, 10 мин
  - isPack
    - Написать Unit test, 10 мин
  - isGeohash
    - Написать Unit test, 10 мин
  - tokenIdToGeohash
    - Написать Unit test, 10 мин
  - geohashToTokenId
    - Написать Unit test, 10 мин
  - setTokenURI
    - Нужно опеределить права на вызов метода setTokenURI, 15 мин
    - Написать код на проверку прав метода setTokenURI, 30 мин
  - burn
    - Нужно опеределить права на вызов метода burn, 15 мин, реализовано (!)
    - Написать код на проверку прав метода burn, 30 мин
  - canTransfer
    - Написать Unit test, 15 мин

## PlotManager (10 часов 45 минут)

### Методы
 - Наследование и импорт стандартных контрактов (Initializable, Ownable)
   - Проверить правильность наследования и импорта, (???)
 - Метод initialize
   - Определить переменные, 15 мин
     - Размер комиссии за создание заявки
     - Проценты комиссии за проверку заявки, получаемый Galt Space и Валидатором
     - address SpaceToken
     - address SplitMerge
 - Метод addValidator
   - Покрыть тестами, 15 мин
 - Метод removeValidator
   - Покрыть тестами, 15 мин
 - Метод applyForPlotOwnership
   - Перевод X эфиров в контракт
     - Написать тест, 15 мин
   - Выполнять mint одного geohash или использование готового, если он принадлежит контракту PlotManager, mint упаковки, обмен одного geohash на упаковку с записью во все мапинги SplitMerge и созданием заявки со статусом Новая - одной транзакцией, 90 мин
     - mint одного geohash на контракт PlotManager
     - mint упаковки на контракт SplitMerge
     - обмен одного geohash на упаковку
     - запись во все мапинги SplitMerge
     - создание заявки со статусом Новая
 - Метод addGeohashesToApplication, 60 мин
   - Проверка наличия конкрентных токенов на контракте PlotManager
   - mint geohash в случае отсутствия
   - Добавление geohash в упаковку
   - Проверка статуса заявки
 - Метод submitApplication, 15 мин
   - Изменение статуса заявки
   - Проверка статуса заявки
 - Метод removeGeohashFromApplication
   - Проверка если в упаковке нет геохешей то изменить статус заявки на Неактивная, 15 мин
   - Вызов метода контракта SplitMerge, который передает токен geohash от контракта SplitMerge контракту PlotManager и меняет маппинг geohash -> упаковка для заявки в статусе Новая, 45 мин
 - Метод removeGeohashesFromApplication, 30 мин
   - Вызов в цикле removeGeohashFromApplication
 - Метод approveApplication, 60 мин
   - Проверить статус заявки
   - Получить на входе hash
   - Сравнить hashes
   - Передать токен упаковки заявителю
   - Изменить статус заявки на `Утверждена`
 - Метод revertApplication, 15 мин
   - Изменить статус заявки на `Новая`
 - Метод rejectApplication, 15 мин
   - Изменить статус заявки на `Отказ`
 - Метод claimValidatorReward, 90 мин (???)
   - для заявок со статусом утверждена для перечисления эфиров валидаторам без проверок
   - для заявок со статусом `Отказ` проверка для упаковки указанной в заявке, что количество `geohash` в упаковке равно нулю 
 - Метод claimGaltSpaceReward, 90 мин
   - Если стоит флаг что валидатор получил вознаграждение, то `GaltSpace` может получить вознаграждение
 - Метод getApplicationById, 15 мин
   - Добавить недостающие поля
 - Метод claimApplication, 30 мин
   - Проверка что код страны и код города в заявке совпадает в данными валидатора (???)
   - Записать валидатора в заявку и изменить статус на Назначено на валидатора
 - Метод revokeValidatorFromApplication, 30 мин
   - Владелец контракта убирает валидатора и меняет статус заявки на Готово к рассмотрению
   
 
## SplitMerge (10 часов 45 минут)

### Методы
 - Метод mintGeohash
   - Выполнение проверки может вызывать только PlotManager и владелец контракта, реализовано.
   - Написать тест, 15 мин
 - Метод mintPackage
   - Написать тест, в `initPackage`
 - Метод initPackage
   - Проверка, что geohash принадлежит тому кто вызывает метод, реализовано.
   - Написать тест, 15 мин
 - Метод addGeohashToPackage
   - Проверка, что сосед указанный в аргументе по указанной стороне находится в той же упаковке. - мин
   - Проверка, что geohash принадлежит владельцу упаковки, 15 мин
   - Написать тест, 30 мин
 - Метод addGeohashToPackageUnsafe
   - Написать тест, в `initPackage` & `addGeohashToPackage` (?)
 - Метод addMultipleGeohashesToPackage
   - Написать тест, 15 мин
 - Метод removeGeohashFromPackageUnsafe
   - Выполнение проверки может вызывать только PlotManager и владелец контракта, реализовано., 45 мин
   - Написать тест, 15 мин
 - Метод removeGeohashFromPackage
   - Проверка, что по указанным в аргументах двум смежным сторонам отсутствуют geohashes принадлежащие той же упаковке., - мин
   - Написать тест, 15 мин
 - Метод splitGeohash, 240 мин
   - Проверка, что все дочерние `geohashes` или отсутствуют или принадлежат `SplitMerge`
   - Написать код с проверкой на `Ownership`
   - Написать тест
 - Метод mergeGeohash, 240 мин
   - Проверка, что родительский не существует или принадлежит `SplitMerge`
   - Написать код с проверкой на `Ownership`
   - Написать тест
 
 

## TerritoryCrowdsale

## SpaceAuctionPack

## SPACEAuctionRegistry

## GALTGenesisRegistry

## Explorer (9 часов 45 мин)
 - GaltMap
   - Описать конфигурацию запуска в Docker, реализовано
     - Dockerfile, 15 мин
     - Docker Compose, 30 мин
     - Makefile, сборка образов 30 мин
   - Настроить транспорт (API)
     - Получение текущих состояний и статусов участков, реализовано
     - Написать тест, 30 мин
   - Настроить транспорт (WSS)
     - Интегрировать Secure WebSocket (через socket.io), реализовано
     - Интегрировать http server, 60 мин
     - Написать тест, 30 мин
   - CORS, кроссдоменные запросы, в том числе для wss, реализовано
     - Настроить CORS, 120 мин

## Solidity Telegram Bot (5 часов 15 мин)
 - Web3 wrapper
   - Портирование методов управления ETH (ETH.ts), раздача эфира, отправка эфира, получение балансов
     - Метод requestEthers, реализовано
       - Написать тест, 15 мин
     - Метод send
       - Написать код, 45 мин
       - Написать тест, 15 мин
     - Метод balanceOf, реализовано
       - Написать тест, 15 мин  
   - GaltToken
     - Метод totalSupply
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод balanceOf
       - Написать код, 30 мин
       - Написать тест, 15 мин
     - Метод transfer
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод transferFrom
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод allowance
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод approve
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод mint
       - Написать код, 15 мин
       - Написать тест, 15 мин
     - Метод burn
       - Написать код, 15 мин
       - Написать тест, 15 мин

## TypeScript Telegram Bot (7,5 часов)
 - Bintan
   - Составить продающие тексты для Бинтан
     - Ревью существующих текстов, 120 мин
     - Разбить большие блоки текста и скорректировать текста, 60 мин
   - Исправление [#444](https://github.com/galtspace/WIJG/issues/444), 60 мин
   - Исправление строк текста [#440](https://github.com/galtspace/WIJG/issues/440), 60 мин
   - Добавление быстрых ссылок, реализовано
     - Создание ссылки админами [#450](https://github.com/galtspace/WIJG/issues/450), 120 мин
     - Создание ссылки для входа пользователем в режим создания территорий [#451](https://github.com/galtspace/WIJG/issues/451), 45 мин
   - Разбиение упаковок на геохеши [#445](https://github.com/galtspace/WIJG/issues/445), 60 мин
     - Корректировка округления репутации, 60 мин
       - Написать тест
   - Кнопка `Cбросить` с очищением территорий, реализовано
     - Создание чит-команды в боте (/reset), 15 мин
     - Очистить хранилище ноды, 60 мин
     - Очистить хранилище redis, 60 мин
 - Маркетинговый бот (общего назначения)
   - Исправить алгоритм эмиссии в соответствии с документацией (?)

## Технические задачи (5 часов 30 мин) (!)
 - Разобраться с проблемой контрактами Proxy, 120 мин
 - Тест Proxy
   - Подготовка тестовых данных на примере контракта SpaceToken, 30 мин
   - Апгрейд этого контракта с новым функционалом, 120 мин
   - Проверка целостности данных и работы нового функционала, 60 мин

## Backlog:
- **Сделано:** В интерфейсе добавить поле для определения точности аппроксимации
- **Сделано:** В интерфейсе выбор геохеша контура указанием на карте
- **Сделано:** В интерфейсе подсвесчивание геохеша контура при нажатии на инпут
 - **На следующий спринт:** [Изменение данных по заявке](https://github.com/galtspace/galtproject-docs/blob/master/ru/contracts/PlotManager.md#%D0%A1%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9-3-%D0%98%D0%B7%D0%BC%D0%B5%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BF%D0%BE-%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B5)
 - **Сделано в интерфейсе:** [Добавление Геохешей в заявку и удаление Геохешей из заявки](https://github.com/galtspace/galtproject-docs/blob/master/ru/contracts/PlotManager.md#%D0%A1%D1%86%D0%B5%D0%BD%D0%B0%D1%80%D0%B8%D0%B9-2---%D0%94%D0%BE%D0%B1%D0%B0%D0%B2%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%93%D0%B5%D0%BE%D1%85%D0%B5%D1%88%D0%B5%D0%B9-%D0%B2-%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D1%83-%D0%B8-%D1%83%D0%B4%D0%B0%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5-%D0%93%D0%B5%D0%BE%D1%85%D0%B5%D1%88%D0%B5%D0%B9-%D0%B8%D0%B7-%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8)
 - **На следующий спринт:** Получение информации о подтвержденной транзанкции после её отправки с помощью WebWorker, который будет следить за отправленной транзакцией, пока она не подтвердится.
 - **Сделано:** Конвертирование на клиенте все tokenId с маской геохеша, полученные из контрактов, в геохеши. Для этого добавить в galtproject-utils-js функции для определения типа tokenId: геохеш или упаковка и преобразование из tokenId в геохеш или упаковку.
- **Сделано:** Доработать алгоритм аппроксимации так, чтобы наименьшие геохеши не выходили за границу контура
- **На следующий спринт:** Добавить вариант отправки транзанкций с помощью персонального сгенерированного кошелька пользователя в браузере, на который пользователь может отправить ETH, чтобы кошелек с помощью WebWorker в обход метамаск от имени пользователя подписал множество необходимых транзакций для регистрации участка.
- **На следующий спринт:** При генерации кошелька в браузере и использования его пользеователем для соверешния множества операции в течении длительного времени - может возникнуть проблема утраты оставшихся ETH пользователем после очистки истории браузера. Нужно подумать над решением этой проблемы
- **На следующий спринт:** Для оптимизации и избежания зависаний необходимо вынести расчеты аппроксимации в WebWorker
- **На следующий спринт:** В интерфейсе проверять площадь указанного пользователем контура и предупреждать в соответствии с площадью - какую точность он может указать, а какая приведет к долгим расчетам.
- **На следующий спринт:** Добавить иконку со справкой по разрядам геохеша - какой разряд какие имеет размеры
- **Сделано:** В PlotManager нужно добавить возможность получить все заявки, которые получал на рассмотрение валидатор(записывать id заявки в маппинг валидаторов к массивам их заявок)
- **На следующий спринт:** При создании заявки в PlotManager указывать и сохранять точность аппроксимации. Также дать возможность изменять это значение если статус заявки Новая или Возвращена
- **На следующий спринт:** При проверке геохешей упаковки - если есть недостающие геохеши: показать их на карте в окне предупреждения выделив цветом среди других геохешей упаковки
- **На следующий спринт:** Поставить ограничение на максимальный размер геохеша для регистрирования территории чтобы избежать злоупотребления
- **На следующий спринт:** Установить в контракте минимальное значение которое необходимо чтобы заявка прошла, но если хочешь чтобы быстрее твою заявку рассмотрели - плати больше, и валидаторы будут как таксисты сидеть и брать в работу в первую очередь те заявки за которые больше заплатили. И в интерфейсе при этом пользователю можно показывать минимальную цену и оптимальную на основе последних 100 заявок

#### PlotManager Backlog
* Редактирование полей заявки
    * Редактирование credentialsHash - 45 минут
    * Редактирование ledgerIdentifier - 45 минут
    * Редактирование country - 45 минут
    * Редактирование precision - 45 минут
* Редактирование настроек контракта владельцем
    * Редактирование applicationFeeInEth - 45 минут
    * Редактирование galtSpaceEthShare - 45 минут
    * Редактирование galtSpaceEthShare - 45 минут
    * Редактирование galtSpaceGaltShare - 45 минут
    * Редактирование настройки acceptApplicationInEth - 60 минут 
    * Редактирование настройки acceptApplicationInGalt - 60 минут
    * Редактирование galtSpaceRewardsAddress - 45 минут
* Вывод средств валидаторов в GALT - 90 мин (???)
* Вывод средств Galt Core в GALT - 90 мин (???)
* Добавить проверку на пустой геохеш при минте в SpaceToken - 60 минут (???)
* Принимать текст объяснения при отказе валидатора в заявке (храним ответ до 500 символов в блокчейне) - 60 минут (???)
* Проверка, что заявки с ид не существет - 15 мин (???)

# Sprint 2

## Web3 Application

### Доработки (16.25 часов)
  - Внедрение WebWorker для распаралеливания различных процессов в браузере пользователя
    - **Сделано:** Внедрение Webworker, 180 мин
    - **Сделано:** Вынести Аппроксимацию геохешей в отдельный модуль, 90 мин
    - **Сделано:** Совершение множества транзакций сгенерированным в браузере кошельком, 90 мин
    - **Сделано:** Сортировка геохешей по наличию соседей (для отправки транзанкций по добавлению геохешей), 60 мин
    - **Сделано:** Слежение за отправленной пользователем транзакцией для уведомления, 240 мин
      - Получение результата выполнения транзакции после её отправки(например номер заявки после её создания)
  - **Сделано:** Перенести уведомления пользователю вправо, 15 мин
  - **Сделано:** Протестировать и исправить возможные проблемы в testnet56, 120 мин
  - **Сделано:** Пренести верхние вкладки в новое меню слева, 90 мин
    - Сделать меню сворачивающимся
    - Сделать разделы в меню: Валидирование, Администрирование и т.д.
  - **Сделано:** Проверить кнопку создания транзакции: почему она может быть не активна, 30 мин
  - **Сделано:** Отловить баг с созданием заранее определенной территории и сломанной транзакцией approve, 60 мин
  
### Новый функционал (11 часов)
  - **Сделано:** Верхнее меню пользователя: Баланс GALT, ETH, SPACE, 90 мин
  - **Сделано:** Добавить вариант отправки транзанкций с помощью персонального сгенерированного кошелька пользователя в браузере, на который пользователь может отправить ETH, чтобы кошелек с помощью WebWorker в обход метамаск от имени пользователя подписал множество необходимых транзакций для регистрации участка.
    - **Сделано:** При необходимости отправки множества транзанкций спрашивать пользователя: отправить ли с помощью `Встроенного кошелька`, 15 мин
    - **Сделано:** Генерировать адрес и приватный ключ в браузере и показывать адрес пользователю с предложением отправить на него ETH или нажать кнопку для отправки через MetaMask, 60 мин
      - **Сделано:** Сохранять приватный адрес в localstorage
    - **Сделано:** Рассчитывать примерное количество ETH для отправки нужных транзанкций, 60 мин
    - **Изменение: вместо уведомления в модальном окне реализован поэтапный интерфейс с этапом в виде пополнения баланса** Следить за изменением баланса кошелька чтобы обновить при поступлении средств и вывести пользователю уведомление, 30 мин
    - **Сделано:** Отправлять множество необходимых транзанкций с помощью приватника, 240 мин
    - **Сделано:** В верхнем меню пользователя добавить пункт `Встроенный кошелек` и его баланс в ETH, 30 мин
    - **Изменение: кнопка пополнить перенесена в модальное окно** В верхнем меню добавить кнопку Пополнить, при нажатии попап с инпутом для ввода количества эфиров и кнопкой отправить, 60 мин
    - **Изменение: статус с отправкой геохешей и количество отправленных геохешей показывается в заблокированном экране** В меню `Встроенный кошелек` показывать количество транзакций, например 10/100 и обновлять его при совершении новой транзакции, 60 мин
    - **Сделано** После завершения отправки всех транзакций - отправлять ETH обратно пользователю, 15 мин
    
### GaltDEX (4 часа)
  - **Сделано:** Раздел в меню GaltDEX
  - **Сделано:** Вкладка Купить GALT:
      - Страница с полем: сколько пользователь хочет купить GALT и кнопка Купить
      - Информация о курсе: сколько ETH стоит один GALT
      - При нажатии Купить - определять для транзанкции необходимое количество ETH для покупки и посылать транзакцию
      - Уведомление пользователю об успешной покупке и обновление информации о GALT в верхнем меню
  - **Сделано:** Вкладка Продать GALT:
      - Доступна пользователям, у которых есть GALT
      - Поле с вводом сколько пользователь хочет продать GALT
      - Информация о курсе: сколько GALT стоит один ETH
      - Расчет и демонстрация: сколько пользователь получит ETH
      
## Контракт GaltDEX (9 часов)
  - **Сделано:** Установка базового курса для обмена ETH на GALT, 15 мин
  - **Сделано:** Установка адресса комиссии и размера комиссии, 15 мин
  - **Сделано:** Метод для обмена ETH на GALT
    - При отсутствии GALT баланса - использовать базовый курс для обмена, 30 мин
    - При наличии GALT баланса на контракте - рассчитывать курс(сколько GALT за ETH) вычислением (TotalSupply GALT - Баланс GALT контракта GaltDEX) / Баланс ETH контракта GaltDEX, 60 мин
    - При совершении обмена ETH на GALT - записывать суммы текущей и итоговой комиссии ETH в поле контракта, 30 мин
    - Отнятие комиссии от суммы ETH и отправка GALT пользователю, 30 мин
    - Написать тесты, 60 мин
  - **Сделано:** Метод для получения комисии ETH, 60 мин
    - При получении комисии - передавать сумму текущей комиссии ETH и обнулять её
    - Написать тесты
  - **Сделано:** Метод для обмена GALT на ETH
    - При совершении обмена GALT на ETH - записывать суммы текущей и итоговой комиссии GALT в поле контракта, 30 мин\
    - При наличии GALT баланса на контракте - рассчитывать курс(сколько GALT за ETH) вычислением (TotalSupply GALT - Баланс GALT контракта GaltDEX) / Баланс ETH контракта GaltDEX, 60 мин
    - Отнятие комиссии от суммы GALT и отправка ETH пользователю, 30 мин
    - Написать тесты, 60 мин
  - **Сделано:** Метод для получения комисии GALT, 60 мин
    - При получении комисии - передавать сумму текущей комиссии GALT и обнулять её
    - Написать тесты

## Контракт PlotManager
* Оставить проверку только на то, что комиссия за заявку не меньше установленной владельцем контракта. Принимать большую комиссию, чем есть -	90 мин (!)
* Добавить проверку на пустой геохеш при минте в SpaceToken - 60 мин (???)
* Принимать текст объяснения при отказе валидатора в заявке (храним ответ до 500 символов в блокчейне) - 60 мин (???)
* Проверка, что заявки с ид не существет - 15 мин (!)
* Переподача заявки к тем же валидаторам - 30 мин (???)
* Управление типами валидаторов	- 120 мин (!)
* Управление валидаторами (добавление, деактивация, без редактирования)	- 240 (!)
* Метод approveApplication() - 180 минут (???)
* Метод revokeApproval() - каждый валидатор может отказать в валидации заявки - 180 мин (???)
* Метод submitApplication	- 120 мин (!!!)
* Блокировка функционала за определенными валидаторами -	150 мин (???)
* Метод claimValidatorFeeEth (Учет сколько какой валидатор вывел, фиксация это в заявке) -	150 мин (???)
* Метод claimValidatorFeeGalt (Учет сколько какой валидатор вывел, фиксация это в заявке) -	150 мин (???)
* Возврат заявки заявителем	- 120 мин (???)
* Смена статуса при разборе упаковки	- 60 мин (???)
* Добавить разбор упаковки валидатором -	60 мин (???)
* Метод approveAddGeohashesToApplications - разрешаем временному ключу из браузера пушить геохеши в упаковку	60 мин (???)
* Передавать токен после завершения заявки бенефициару, а не подющему заявку - 60 мин (???)
  
## TypeScript Telegram Bot (20 ч 30 мин)
 - Bintan
   - Исправление [#444](https://github.com/galtspace/WIJG/issues/444), 90 мин
     - С помощью написанного теста разобраться как пофиксить баг связанный с out of memory
   - Исправление строк текста [#440](https://github.com/galtspace/WIJG/issues/440), 60 мин
   - Разбиение упаковок на геохеши [#445](https://github.com/galtspace/WIJG/issues/445), 60 мин
     - Корректировка округления репутации, 60 мин
       - Написать тест
 - Маркетинговый бот (общего назначения)
   - Начисление ETH фондам [#427](https://github.com/galtspace/WIJG/issues/427), 60 мин
     - Реализовать функционал вывода системного сообщения делегату, которое уведомляет о пополнении ETH в его фонде/фондах
   - Частичное голосование своей репутацией за кандидата в делегаты [#410](https://github.com/galtspace/WIJG/issues/410), 305
     - В метод vote добавить параметр кол-ва репутации и обработку его, 30 мин
     - Перестроить маппинг voterForCandidate для хранения там множества кандидатов для каждого voter'а, 60 мин
     - Добавить маппинг хранения того, каким кол-вом репутации и за кого проголосовал пользователь, 20 мин
     - В маппинг voter2Reputation записывать то кол-во репутации, которое обозначил пользователь, 15 мин
     - Не позволять пользователю проголосовать итоговой суммой больше, чем сумма его текущей репутации, 15 мин
     - Установить максимальное кол-во кандидатов, за которое может проголосовать пользователь = 7, 15 мин
     - При действии изменения репутации в контроллере вызывать отмену всех голосов пользователя за кандидатов с изменением итоговых голосов за кандидатов, 90 мин
     - Добавить в интерфейс вопрос об кол-ве репутации, которым пользователь хочет проголосовать за кандидата, 60 мин
   - Штраф репутации [#431](https://github.com/galtspace/WIJG/issues/431), 
     - TS Contract, реализовано
     - Кэширование списка заявок по каждому геохешу, которые подавали заявку, 15 мин
     - Кэшированеи списка всех активных заявок, 15 мин
     - Написать тесты на ts контракт штрафа репутации, 120 мин
     - В интерфейсе кнопка Соседи с подпунктами Список участков и Активныее заявки на штраф, 15 мин
     - При нажатии список участко пользователь получает список соседних геохешей, 60 мин
     - При нажатии на соседний геохеш появляется возможно создать заявку на штраф и посмотреть кол-во активных заявок на штраф, 15 мин
     - Возможность создать заявку указав необходимые значения, 60 мин
     - Возможность посмотреть список заявок на участок, 60 мин
     - При нажатии на активную заявку появляется возможность проголосовать, 15 мин
     - Возможность посмотреть все активные заявки на соседние геохеши, 30 мин
     - Оповещать пользователя о завершении голосования по тем голосованиям, где он участвовал, 60 мин
   - Деноминация GALT [#434](https://github.com/galtspace/WIJG/issues/434), 15 мин
   - Возможность нескольких ставок на SpaceAuction в телеграм боте [#435](https://github.com/galtspace/WIJG/issues/435), 120 мин
     - Хранение и ииспользование массива геохешей вместо одного, 30 мин
     - Протестировать интерфейс, 90 мин
  
## Solidity Telegram Bot Interface (10 ч 45 мин)
   - Использование контракта Solidity Crowdsale в боте,
     - Показывать единственный возможный crowdsale вместо списка crowdsal'ов территорий, 15 мин
     - Показывать rate из контракта Crowdsale, 15 мин
     - В TypeScript классе Crowdsale методе buyTokens вызывать Solidity Contract для покупки токенов пользователем, 60 мин
     - В AndromedaUser классе метода buyGalt получение privateKey для отправки транзакции и передача аргументом в buyTokens, 15 мин
     - Использование полученного хеша транзакции для уведомления пользователя о подтверждениях транзакции, 30 мин
     - Автообновление сообщения с кол-вом подтверждений, 120 мин
     - Остановка автообновления после 12-ти подтверждений, 15 мин
   - Демонстрация в интерфейсе значения балансов из solidity контрактов,
     - Доработка методов galtUserBalance, spaceUserBalance, 30 мин
     - Добавление метода ethUserBalance, 30 мин
     - Замена прямых вызовов balanceOf у galt, eth & space на вызовы методов galtUserBalance, spaceUserBalance, ethUserBalance, 60 мин
   - Возможность передачи и получения Galt между пользователями в интерфейсе
     - Кешировать в редисе список пользователей с их балансами в Galt, 60 мин
     - Добавить метод getGaltUsers в andromeda, 15 мин
     - Заменить использование прямого перебора маппинга балансов galt токена на вызов getGaltUsers, 30 мин
     - Добиться корректного показа списка пользователей для получения galt токенов в интерфейсе, 30 мин
     - Изменить выбор пользователя для отправки galt на ввод адреса eth вручную, 30 мин
     - В andromedaUser классе сделать функцию отправки Galt и использовать ее в интерфейсе, 30 мин 
     - Добавить сообщение о количестве подтверждений транзакции с автообновлением и хешем транзакции, 60 мин


## Backlog
## Web3 Application
### Доработки (3.5 часа)
  - **На следующий спринт:** При проверке геохешей упаковки - если есть недостающие геохеши: показать их на карте в окне предупреждения выделив цветом среди других геохешей упаковки, 60 мин
  -**На следующий спринт:**  Поставить ограничение на максимальный размер геохеша для регистрирования территории чтобы избежать злоупотребления, 30 мин
  - **На следующий спринт:** В интерфейсе проверять площадь указанного пользователем контура и предупреждать в соответствии с площадью - какую точность он может указать, а какая приведет к долгим расчетам., 90 мин
  - **На следующий спринт:** Проверять в какой сети MetaMask чтобы предупреждать пользователя о том что ему нужно переключиться на другую сеть, 30 мин
  - **На следующий спринт:** Перестраивать контур для апроксимации геохешей по часовой или против часовой стрелке если пользователь указал вершины в произвольном порядке
  - **Сделано:** Настроить выгрузку адресов контрактов и abi на сервер с помощью surge.sh или подобного сервиса для отправки на сервер одной командой
  - Улучшение интерфейса GaltDex:
    - **Сделано:** Предупреждение пользователя если у него не хватает GALT или ETH баланса для обмена
    - **На следующий спринт:** На кнопке Отправить транзанкцию - дополнительно показывать количество транзанкций, которое ему надо будет отправить для обмена(для обмена Galt на ETH нужно две транзакции: approve и transfer)
  - **На следующий спринт:** Оформить билд скрипты для продакшена
    - Минимизация
    - Обфускация
    - Динамическое имя сбилденного скрипта для избежания проблемы кеширования у пользователя
    - Автоудаление неиспользуемого кода из билда
  - **Сделано:** Оптимизация отправки заявки: расчет аппроксимации только один раз, при изменении значений пользователем, с блокированием кнопки пока не будет завершен расчет
  - **Сделано:** Вывод ошибки с подробностями в консоль если сервер не отвечает на запрос на получение данных в течении 5 секунд
  - **Сделано:** Вывод ошибки с подробностями уведомлением пользователю если сервер не отвечает на запрос на получение данных в течении 5 секунд
  - **Сделано:** Фильтрация по типу в Моих участках
  - **Сделано:** Разделение и обьединение геохешей в интерфейсе:
    - **Сделано:** Кнопка, разделяющая геохеш
    - **Сделано:** Кнопка вызывающая модальное окно с анализом того, какие геохеши могут быть обьеденены и выбором пользователем геохеша
  - **Сделано:** Новый интерфейс создания упаковки
    - **Сделано:** Отдельная страница для создания упаковки
    - **Сделано:** Показ принадлежащих пользователю геохешей на карте
    - **Сделано:** Выбор контуром новой упаковки на карте
    - **Сделано:** Проверка на то, какие геохеши входя в паковку
    - **Сделано:** Выделение другим цветом входящих в упаковку геохешей
    - **Сделано:** Кнопка: добавить выбранные геохеши в паковку с отправкой транзанкции на инициализацию упаовку, добавлению в неё геохешей и установки контура
  - **Сделано:** При отправке множества последовательных транзакций - блокировать интерфейс с надписью: Пожалуйста, дождитесь отправки и подтверждения всех транзакций:
    - **Сделано:** Блокировка интерфейса с информацией о процессе разделе новой заявки
    - **Сделано:** Блокировка интерфейса с информацией о процессе в разделе моих заявок при добавлении геохешей в результате проверки геохешей
    - **Сделано:** Блокировка интерфейса в разделе GaltDex при передачи права на GALT при обмене GALT на ETH
    - **Сделано:** Блокировка интерфейса с информацией о процессе при создании новой упаковки
    - **Сделано:** Блокировка интерфейса с информацией о процессе при разборе заявки
    - **Сделано:** Блокировка интерфейса с информацией о процессе при разборе упаковки
  - **На следующий спринт:** Переделать логику по вводу координат: оставлять координаты в инпуте, но строить контур по геохешам
  - **На следующий спринт:** Убрать слово "Упаковка" из интерфейса и заменить на "Земельный участок"
  - **На следующий спринт:** Выводить токены SPACE в hex в интерфейсе
  - **На следующий спринт:** Перезагружать интерфейс при измененеии кошелька в MetaMask
  - **Сделано:** Использовать для Внутреннего кошелька approve и allowance контрактов SplitMerge и PlotManager для того чтобы просить пользователя предоставить ему права на операции с токенами и в конце операции - отказ от своих прав
  - **На следующий спринт** Очередь в WebWorker для большого количества транзанкций с целью отправки последовательно и ожидания подтверждения транзанкций для отправки новых
    - Единый сервис в виде очереди для отправки транзанкций с внутреннего кошелька
      - Создание WebWorkera
      - Перенос логики для отправки транзанкции в WebWorker
    - Обеспечить логику и ограничение на одновременную отправку нескольких транзанкций
    - Единый сервис в виде очереди для получения nonce транзанкции для указанного адреса
  - **Сделано:** Отправлять транзанкции с Внутреннего кошелька и callMethod запросы напрямую в RPC Server в обход MetaMask
  - **На следующий спринт:** Оформлять отправление нескольких транзанкций с внутреннего кошелька в одну транзанкцию
  - **На следующий спринт** Логи для пользователя на экране блокировки: какой статус у транзанкций в текущий момент
    - Вывод ошибок в случае провала транзанкции
      - Анализ данных внутреннего кошелька и статуса сервера
      - Вывод ошибки пользователю на экран блокировки
    
### Новый функционал (6 часов)
  - Добавить иконку со справкой по разрядам геохеша - какой разряд какие имеет размеры, 30 мин
  - Установить в контракте минимальное значение которое необходимо чтобы заявка прошла, но если хочешь чтобы быстрее твою заявку рассмотрели - плати больше, и валидаторы будут как таксисты сидеть и брать в работу в первую очередь те заявки за которые больше заплатили. И в интерфейсе при этом пользователю можно показывать минимальную цену и оптимальную на основе последних 100 заявок
    - Показ оптимальной цены комиссии на основе последних 100 заявок, 60 мин
    - Предложение пользователю внести большую сумму, чем минимальную, 15 мин
    - Показ валидаторам последних 100 заявок, отсортированных по комиссии, 30 мин
    - Возможность изменить число показываемых заявок, 15 мин
  - Раздел Администрирование
    - **Сделано:** Страница Администрирование, 60 мин
    - Добавление и удаление валидаторов, 15 мин
    - Изменение минимальной комиссии и коэффициента в контракте PlotManager, 30 мин
    - Получение вознаграждения с комиссий для GaltSpace для каждого из участков, 30 мин
      - Список участков с кнопками: получить комиссию
    - **Сделано:** Устанновить комиссию за обмен GaltDEX, 15 мин
    - **Сделано:** Отображение текущего доступного обьема для вывода комиссии из GaltDEX и вывод, 60 мин
  - Кран ETH: Пункт в меню со страничкой, где пользователь раз в 5 минут может получить 100 ETH
    - Верстка стрвницы Кран ETH
    - Использование приватника майнера в браузере для отправки транзакции с ETH на адрес пользователя
    - Блокирование по времени: получать эфирки можно только раз в 5 минут, в остальное время кнопка не активна
  - Указание и отображение информации об отклонении и возвращении заявки валидатором: Валидатор должен написать текстом - что в заявке не правильно
  - При неправильном prcServer-е пользователя - блокировать экран с просьбой указать корректный rpcServer
  - Раздел "О проекте" со справочной информацией о проекте для того чтобы добиться большего понимания и доверия со стороны пользователей:
    - Список контрактов с их адресами, ссылкой на explorer, и кратким описанием их функционала и роли в проекте
    - Checksum фронта приложения и инструкция для её проверки на открытом репозитории galtproject-ui
    - Описание концепции internalWallet и сведения о безопасности решения
  - Режим отображения карты с геохешами в виде Глобуса как в GoogleMaps
  - Отправка ETH на новый адрес внутреннего кошелька при перегенерации кошелька
  - Использование JSON с паролем вместо приватного ключа в интерфейсе

### Typescript Telegram bot:

- Частичный перенос репутации Space токенов между фондами [#409](https://github.com/galtspace/WIJG/issues/409). Требуется переписывание контрактов локальной и глобальной репутации, контрактов голосования, контроллера и всего что от них зависит.
- Актуализировать выход из GALT в соответствии с документацией [#429](https://github.com/galtspace/WIJG/issues/429). 

### Контракты:
  - **Сделано:** Добавить роль FeeManager в контракты PlotManager и GaltDex для изменения и получение комиссии за использование контрактов.
  - Добавить возможность создавать заявки в PlotManager для уточнения территории(добавления геохешей к текущей территории, например для увеличения точности геохешей)
  - Метод в SplitMerge для запрета изменение упаковки(добавление, удаление геохешей, установка контура) на обозначенное владельцем время. Владельцу токена запрет на изменения невозможно отменить, можно только дождаться окончания. Отменить запрет может только владелец контракта
  - Дополнительный маппинг в SplitMerge с последним timestamp-ом изменения упаковки. Чтобы фиксировать целостность упаковки в других контрактах
  - **Сделано:** Добавить approve и allowance в контракты PlotManager и SplitMerge для того чтобы пользователь мог давать возможность другому пользователю выполнять какие-либо действия
    - **Сделано:** Сделать возможность отказываться от предоставленного тебе allowance

### Plotmanager Backlog (18 часов) - Никита
 - Отладка демки начало спринта, 5ч
 - Настройка тестовых сетей, 3ч
 - Управление процентами долей валидаторов, 8ч
   - Выставление флага готовности к приему заявки, если сумма долей валидаторов равна 100%
   - Снятие флага готовности к приему заявки, если сумма долей валидаторов не равна 100%
   - Метода изменения] процента доли существующего валидатора
 - Отладка демки (вторая неделя), 2ч

# Sprint 3

## Solidity Bot (8 часов) Игорь
 - Универсальный wrapper (Взаимодействие с api-provider Telegram (Status, Toshi) , 240 мин
   - Менеджер вызовов контрактов
   - Универсальные вызовы диалогов и ответов от них
   - Получение событий и срабатывание универсальных триггеров (неблокируемый api)
 - Написать api-provider Telegram, 240 мин
   - Использование универсальных вызовов от wrapper
   - Набор используемых интерфейсных решений
     - Кнопки
     - Списки
     - Диалоги
     - Списки для команд
     - Модели соответствий по типу ответов от api Telegram
     - Локализационные строки

## Технические задачи (11 часов 30 мин) Игорь
 - Завести блог, 15 мин
 - Поставить базовую минималистичную тему, 15 мин
 - Определить дизайн блога, 60 мин
 - Обеспечить ревью кода (600 мин)

## Контент (17 часов) Игорь
 - Написать первую статью в блог (Уточнить тему!), 60 мин
 - Написать статьи отвечающие на вопросы
   - Как хранить геоданные в блокчейне и стоит ли это делать? 180 мин
   - Как токенизировать земельный участок? 180 мин
 - Сделать 20 видео-туториалов по списку
   - Getting started, 120 мин
   - Видео для владельцев земли, 240 мин
   - Видео для валидаторов, 120 мин
   - Видео для администраторов, 120 мин


# Sprint 4

## Web3 Application (31.75 часов)

  - Очередь в WebWorker для большого количества транзанкций с целью отправки последовательно и ожидания подтверждения транзанкций для отправки новых
    - **Сделано** Единый сервис в виде очереди для отправки транзанкций с внутреннего кошелька
      - Создание и подключение WebWorkera, 60 мин
      - Перенос логики для отправки транзанкции в WebWorker, 240 мин
    - **Сделано** Обеспечить логику и ограничение на одновременную отправку нескольких транзанкций, 60 мин
    - **Сделано** Повторная отправка транзакции при первом реверте, с повышенным количеством газа, 30 мин
    - Единый сервис в виде очереди для получения nonce транзанкции для указанного адреса, 120 мин
      - Хранение последних nonce для адресов и проверка этого nonce с тем что выдает rpc-server
    - Оформлять отправление нескольких транзанкций с внутреннего кошелька в одну транзанкцию, 120 мин 
  - Логи для пользователя на экране блокировки: какой статус у транзанкций в текущий момент
    - **Сделано** Использование localStorage для хранения хешей транзанкции и данных об операции, 120 мин
    - **Сделано** Заменить проверку количества геохешей через balanceOf на проверку статуса транзанкции, 120 мин
    - **Сделано** Хранить и отображать общее количество транзакций в очереди и количество выполненных транзакций, 60 мин
    - **Сделано** Отправка статусов по транзанкциям из WebWorker в интерфейс, 30 мин
    - **Сделано** Выводить список транзанкций с хешами в интерфейсе, 60 мин
    - **Сделано** Показывать статус по каждой транзакции в интерфейсе, 60 мин
  - Блокировать экран в случае если rpc-server не соответствует базовому
    - **Сделано** Верстка и подключение как плагина нового экрана блокировки, 60 мин
    - **Сделано** Проверять соответствие rpc-server на соответствие допустмым и блокировать экран если не соответствует, 30 мин
    - **Сделано** Указывать информацию с видео туториалом по установке корректного rpc-server, 15 мин
    - **Сделано** Хранить и выводить список допустимых rpc-servers, 30 мин
    - **Сделано** Разблокировать экран после указания правильного rpc-server, 30 мин
  - Раздел Администрирование
    - Добавление и удаление валидаторов с их ролями, 60 мин
    - Изменение минимальной комиссии и коэффициента в контракте PlotManager, 30 мин
    - Получение вознаграждения с комиссий для GaltSpace для каждого из участков, 30 мин
      - Список участков с кнопками: получить комиссию
  - Указание и отображение информации об отклонении и возвращении заявки валидатором: Валидатор должен написать текстом - что в заявке не правильно при REVERT и REJECT, 30 мин
  - Использование файла JSON с паролем вместо приватного ключа в интерфейсе
    - Замена использования privateKey на использование JSON для отправки транзанкции, 120
    - Интерфейс для ввода пароля и информацией об использовании JSON, 120
  - **Сделано** Отправка ETH на новый адрес внутреннего кошелька при перегенерации кошелька, 30 мин
  - **Сделано** Убрать чекбокс Активен, при каждой необходимости использования кошелька - задавать вопрос пользователю, 60 мин
  - **Сделано** Каждый раз при согласии пользователя выполнить операции внутренним кошельком - генерить новый кошелек, 30 мин
  - **Сделано** После каждой операции по сборке, разборке участков и заявок в явной форме требовать от пользователя отзыва allowance от внутреннего кошелька на операции с Space токенами и блокировать экран, 120 мин
  - **Сделано** При перезагрузке страницы проверять, что allowence отозван, 30 мин
 
## SplitMerge 
 - Добавить обработку/проверку addGeohashToPackage 
   - Что геохеш входит в контур упаковки, границы которой заданы многоугольником из прямых линий
   - Что геохеш хотя бы имеет 1 соседа по указанной стороне, и они входят в упаковку

## Explorer - Игорь (2 часа)
  - Режим отображения карты с геохешами в виде ```Глобус``` как в GoogleMaps, 120 мин
  
## Solidity Bot - Игорь (16 часов)
 - Менеджер инстансов аккаунтов
   - Экспорт и импортирование ключей, 120 мин
   - Подписывание транзакций в инстансах, 60 мин
   - Хранение состояний (кеширование), 60 мин
 - Ретранслятор событий и данных
   - Менеджер подписок на события, 180 мин
     - Определение очереди и каналов событий
   - Менеджер кеширования данных, 120 мин
     - Хранение объектов кеширования (JSON or MessagePack)
 - Интегрировать контракт токена Galt, 180 мин
 - Написать api-provider Status, 240 мин
   - Использование универсальных вызовов от wrapper
   - Набор используемых интерфейсных решений
     - Кнопки
     - Списки
     - Диалоги
     - Списки для команд
     - Модели соответствий по типу ответов от api Telegram
     - Локализационные строки

## Технические задачи (13 часов) Игорь
 - Обеспечить ревью кода (600 мин)
 - Необходимо 3 entry-point в 3-х разных провайдеров, на каждом по одной ноде Parity, 180 мин

## PlotClarificationManager (1950 мин) - Никита
 - Скопировать необходимую логику (initializer, application getter, application struct) и тесты с контракта PlotManager - 120 мин
 - Создание заявки на рассчет геохешей - 120 мин
   - Проверка входящих данных
   - Передача токена на контракт PlotClarificationManager
   - (Пункты 2 и 3 лучше объединить в одно действие)
 - Метод блокировки валидатором поданной заявки на оценку - 90 мин
 - Метод оценки валидатором стоимости работы над заявкой - 120 мин
   - Запись стоимости заявки в GALT
 - Метод оплаты заявки пользователем
   - Передача средств в GALT на контракт - 120 мин
   - Рассчет комиссии валидаторов - 240 мин
   - Оплата комиссии за газ - 120 мин
 - Метод блокировки заявки оставшимися типами валидаторов = 180 мин
 - Метод approveApplication - 150 мин
   - Пересчет всех валидаторов и их статусов
 - Метод добавления валидатором новых геохешей в упаковку - 180 мин
 - Метод перевода заявки в статус, что добавление геохешей закончено - 90 мин
 - **(перенесено)** Передача токена обратно заявителю - 120 мин
 - Метод вывода валидаторами своих вознаграждений за заявку - 120 мин
 - Метод вывода вознаграждения на адрес указанного владельцем контракта  - 120 мин
 - **(перенесено)** Метод revertApplication, предпологаем изменение статуса на ```Возвращена``` с обнулением всех подтверждений валидаторами - 120 мин
   - Полного отказа в заявке не предусмотрено
 - **(перенесено)** Метод редактирования полей заявки заявителем (сразу всех) - 120 мин
 - **(перенесено)** Возврат токена участка и залога за газ и заявки заявителем - 150 мин
 - **(добавлено)** PlotManager. Починить поддержку бенефициара заявки по аналогии с ERC721 - 180 мин


## Backlog WebApplication
  - **Сделано** Использование альтернативных серверов внутренним кошельком при недоступности основного
  - **Сделано** Модальное окно со списком альтернативных RPC серверов
  - **Сделано** Страница с Туториалами
  - **Сделано** Получение видео туториалов из Google API
  - **Сделано** При создании заявки - проверять на успешность транзанкции. Если транзанкция провалилась - разблокировать экран и сообщать пользователю об ошибке.
  - **Сделано** Использование websocket провайдера для внутреннего кошелька
  - **Сделано** Более точно определять количество используемого газа для транзанкции на запись геохешей(сейчас используется в 5-10 раз меньше чем требуется для отправки от пользователя)
  - Добавить дополнительную информацию об RPC серверах с возможностью задания через ENV
  - Кран ETH: Пункт в меню со страничкой, где пользователь раз в 5 минут может получить 100 ETH
    - Верстка страницы Кран ETH, 60 мин
    - Использование приватника майнера в браузере для отправки транзакции с ETH на адрес пользователя, 60 мин
    - Блокирование по времени: получать эфирки можно только раз в 5 минут, в остальное время кнопка не активна, 60 мин
    
  - Вывод ошибок в логи в случае провала транзанкции
      - Анализ данных транзанкции, внутреннего кошелька и статуса сервера, 240 мин
      - **Сделано** Вывод ошибки пользователю на экран блокировки, 60 мин
      - **Сделано** Отправка данных об ошибке в сервис Sentry, 120 мин
      
  - Внедрить простейшую версионность: 
    - Выводить в интерфейсе версию приложения возле надписи Galt Project Global Land Registry
    - Записывать список изменений для каждой версии
    - При нажатии на номер версии - выводить в модальном окне историю изменений с прошлыми версиями

  - Поиск по карте(по странам, городам и адресам)
  - Поиск по геохешам в Мои участки
  - При создании заявки - проверять что апроксимированные геохеши не принадлежат ни кому. Если принадлежат - подсвечивать и предупреждать пользователя с блокировкой кнопки создания заявки
  - После создания заявки - блокировать инпуты для изменения границ участка, чтобы пользователь мог добавить геохеши только в уже зафиксированные границы участка
  - Рядом с транзанкциями показывать сколько на них затрачено газа и эфиров
  - Оформить билд скрипты для продакшена
    - Минимизация
    - Обфускация
    - Динамическое имя сбилденного скрипта для избежания проблемы кеширования у пользователя
    - Автоудаление неиспользуемого кода из билда
  - Переделать логику по вводу координат: оставлять координаты в инпуте, но строить контур по геохешам
  - Убрать слово "Упаковка" из интерфейса и заменить на "Земельный участок"
  - Выводить токены SPACE в hex в интерфейсе
  - Перезагружать интерфейс при измененении кошелька в MetaMask
  - GaltDex: На кнопке Отправить транзанкцию - дополнительно показывать количество транзанкций, которое ему надо будет отправить для обмена(для обмена Galt на ETH нужно две транзакции: approve и transfer)
  - Перестраивать контур для апроксимации геохешей по часовой или против часовой стрелке если пользователь указал вершины в произвольном порядке
  - При проверке геохешей упаковки - если есть недостающие геохеши: показать их на карте в окне предупреждения выделив цветом среди других геохешей упаковки, 60 мин
  - Поставить ограничение на максимальный размер геохеша для регистрирования территории чтобы избежать злоупотребления, 30 мин
  - В интерфейсе проверять площадь указанного пользователем контура и предупреждать в соответствии с площадью - какую точность он может указать, а какая приведет к долгим расчетам., 90 мин
  - Возможность сбросить валидатора владельцем контракта
    - Страница со всеми заявками в статусе закреплена
    - Сброс залоченного валидатора владельцем контракта
  - Дополнительно добавление и удаление геохешей с помощью выделения контуром, со оставлением списка геохешей в инпуте как доп фичи
  
# Sprint 5

## Web3 Application, 20 часов
  - Подготовить приложение для мультиязычности
    - Создать и подгружать JSON ru файл со всеми русскими именами и текстами, 30 мин
    - Создать плагин для получения текста по имени, 120 мин
    - Создать фильтр для получение текста по имени из шаблонов VUE, 30 мин
    - Использовать шаблонизатор для вставки переменных в тексты, 60 мин
    - Перенести все тексты из приложения в JSON файл, 120 мин
    - Передавать переменные вместе с текстами для использования в шаблонах, 60 мин
  - Перевести Frontend на новую версию контрактов PlotManager и Validators
    - Получение и отображение списка ролей валидатора, 30 мин
    - Получение списка ролей заявки, 30 мин
    - Получение статуса по каждой из ролей в заявке:(одобрена или не одобрена), 30 мин
    - Указание роли валидатором при назначении заявки, 30 мин
    - Подача заявки GALT или ETH (селектор и предупреждение с размером комиссии), 60 мин
    - Возможность установки большей комиссии, 15 мин
    - Редактирование деталей завявки Апликантом при создании заявки и возвращении от валидатора, 60 мин
    - Админка с указанием ролей и долей в эфирах и галтах по типу заявки
      - Отображение таблички, 120 мин
      - Редактирование таблички, 60 мин
      - Проверка того что сумма всех процентов - 100, предупреждение если не так, 30 мин
      - Отправка всех данных таблички одной транзанкцией, 30 мин
    - Получение списка ролей по типу заявки(тип указан в PlotManager), 30 мин
    - Проверить на изменение полей заявки, 30 мин
    - Возврат оплаченного залога заявителю по заявке в статусе Утвержденна, либо в статусе Разобрана заявителем, 60 мин
    - Отправка оплаченного залога валидатору по итогам разбора заявки, 30 мин
  - Интерфейс SpaceDex
    - Страница SpaceDex: список участков с картой рядом, 30 мин
    - Список доступных Space токенов для покупки с ценами, 60 мин
    - Кнопка для покупки Space токена за GALT, 30 мин
    - Список доступных Space токенов для продажи с ценами, 60 мин
      - Проверка и фильтрация Space токенов на возможность продажи(установлена цена и одобрен)
    - Кнопка для продажи Space токена за GALT, 30 мин
    
## Контракты: Женя, 10 часов
  - SpaceDex
    - SetPlotCustodianManagement, 30 мин
      - Установка адреса контракта для получения цены за Space токен и статуса доступности для продажи
    - ExchangeSpaceToGalt, 90 мин
      - Получение цены Space токена из PlotCustodianManagement
      - Передача Space токена участка контракту PlotCustodianManagement, а Galt токенов пользователю
      - Запись Space токена в динамический массив
    - ExchangeGaltToSpace, 90 мин
      - Получение цены Space токена из PlotCustodianManagement
      - Передача Galt токенов контракту PlotCustodianManagement, а Space токена пользователю
      - Удаление Space токена из динамического массива
    - Кешированние суммы всех цен Space токенов для вычитания их GaltDex, 60 мин
    - Заглушка GetSpacePrice с постоянной ценой, 10 мин
    - Заглушка AvailableForSell с постоянным true, 10 мин
    - Написание тестов, 120 мин
  - GaltDex
    - SetSpaceDex, 30 мин
      - Установка адреса контракта SpaceDex для получение суммы всех цен
    - Вычитание суммы всех цен Space токенов при расчете курса GALT, 30 мин
    - Вычитание баланса SpaceDex при расчете курса GALT, 30 мин
    - Написание тестов, 90 мин
